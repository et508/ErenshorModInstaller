<Window x:Class="ErenshorModInstaller.Wpf.VersionUninstallDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Uninstall Versions" Height="340" Width="420"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="8"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="8"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Header shows the active version as info only -->
    <TextBlock x:Name="HeaderText" FontWeight="Bold" FontSize="14" />

    <Border Grid.Row="2" BorderBrush="#DDD" BorderThickness="1" CornerRadius="6" Padding="8">
      <StackPanel>

        <TextBlock x:Name="ActiveInfo"
                   Margin="0,0,0,6"
                   Foreground="#666"/>

        <TextBlock Text="Stored Versions:"
                   Margin="0,0,0,6"
                   FontWeight="Bold"/>

        <ScrollViewer VerticalScrollBarVisibility="Auto" Height="200">
          <ItemsControl x:Name="StoredVersionsPanel">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <StackPanel Orientation="Horizontal" Margin="0,2,0,2">
                  <!-- Remove checkbox -->
                  <CheckBox IsChecked="{Binding Remove}"
                            VerticalAlignment="Center"
                            Margin="0,0,8,0"/>

                  <!-- Keep as Active radio; all rows share the same group -->
                  <RadioButton GroupName="KeepGroup"
                               IsChecked="{Binding Keep}"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>

                  <TextBlock Text="{Binding Version}" VerticalAlignment="Center"/>
                </StackPanel>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </ScrollViewer>

        <TextBlock Foreground="#888" Margin="0,6,0,0"
                   Text="Tip: Choose one “Keep as Active”. If you choose none, the current active stays active."/>
      </StackPanel>
    </Border>

    <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
      <Button Content="OK" Width="80" Margin="0,0,8,0" Click="Ok_Click"/>
      <Button Content="Cancel" Width="80" Click="Cancel_Click"/>
    </StackPanel>
  </Grid>
</Window>
