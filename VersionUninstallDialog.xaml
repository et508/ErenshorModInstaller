<Window x:Class="ErenshorModInstaller.Wpf.VersionUninstallDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Uninstall Versions" Height="360" Width="350"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="8"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="8"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Header shows mod name -->
    <TextBlock x:Name="HeaderText" FontWeight="Bold" FontSize="14" />

    <Border Grid.Row="2" BorderBrush="#DDD" BorderThickness="1" CornerRadius="6" Padding="8">
      <StackPanel>
        <!-- Active version info -->
        <TextBlock x:Name="ActiveInfo"
                   Margin="0,0,0,6"
                   Foreground="#666"/>

        <!-- Column headers -->
        <Grid Margin="0,0,0,4">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="80"/>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <TextBlock Text="Remove" Grid.Column="0" FontWeight="Bold" />
          <TextBlock Text="Keep as Active" Grid.Column="1" FontWeight="Bold" />
          <TextBlock Text="Version" Grid.Column="2" FontWeight="Bold" />
        </Grid>

        <ScrollViewer VerticalScrollBarVisibility="Auto" Height="200">
          <ItemsControl x:Name="StoredVersionsPanel">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Grid Margin="0,2,0,2">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>

                  <!-- Remove checkbox -->
                  <CheckBox IsChecked="{Binding Remove}"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center"
                            Margin="0"/>

                  <!-- Keep as Active radio -->
                  <RadioButton GroupName="KeepGroup"
                               IsChecked="{Binding Keep}"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Grid.Column="1"/>

                  <!-- Version text -->
                  <TextBlock Text="{Binding Version}"
                             VerticalAlignment="Center"
                             Margin="8,0,0,0"
                             Grid.Column="2"/>
                </Grid>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </ScrollViewer>

        <TextBlock Foreground="#888" Margin="0,6,0,0"
                   Text="Tip: Choose one version to keep active. You can mark others for removal."/>
      </StackPanel>
    </Border>

    <!-- Buttons -->
    <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
      <Button Content="OK" Width="80" Margin="0,0,8,0" Click="Ok_Click"/>
      <Button Content="Cancel" Width="80" Click="Cancel_Click"/>
    </StackPanel>
  </Grid>
</Window>
